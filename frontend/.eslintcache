[{"C:\\Desktop\\React\\Photoapp\\frontend\\src\\App.js":"1","C:\\Desktop\\React\\Photoapp\\frontend\\src\\reportWebVitals.js":"2","C:\\Desktop\\React\\Photoapp\\frontend\\src\\components\\Header.js":"3","C:\\Desktop\\React\\Photoapp\\frontend\\src\\components\\HomeScreen.js":"4","C:\\Desktop\\React\\Photoapp\\frontend\\src\\store.js":"5","C:\\Desktop\\React\\Photoapp\\frontend\\src\\index.js":"6","C:\\Desktop\\React\\Photoapp\\frontend\\src\\constants\\imageConstants.js":"7","C:\\Desktop\\React\\Photoapp\\frontend\\src\\actions\\imageActions.js":"8","C:\\Desktop\\React\\Photoapp\\frontend\\src\\reducers\\imageReducer.js":"9","C:\\Desktop\\React\\Photoapp\\frontend\\src\\components\\Message.js":"10","C:\\Desktop\\React\\Photoapp\\frontend\\src\\components\\Loader.js":"11","C:\\Desktop\\React\\Photoapp\\frontend\\src\\constants\\userConstants.js":"12","C:\\Desktop\\React\\Photoapp\\frontend\\src\\reducers\\userReducers.js":"13","C:\\Desktop\\React\\Photoapp\\frontend\\src\\screens\\LoginScreen.js":"14","C:\\Desktop\\React\\Photoapp\\frontend\\src\\actions\\userActions.js":"15","C:\\Desktop\\React\\Photoapp\\frontend\\src\\screens\\RegisterScreen.js":"16","C:\\Desktop\\React\\Photoapp\\frontend\\src\\components\\FormContainer.js":"17"},{"size":691,"mtime":1606823252251,"results":"18","hashOfConfig":"19"},{"size":362,"mtime":499162500000,"results":"20","hashOfConfig":"19"},{"size":1221,"mtime":1606811999957,"results":"21","hashOfConfig":"19"},{"size":4113,"mtime":1606831207479,"results":"22","hashOfConfig":"19"},{"size":921,"mtime":1606807295912,"results":"23","hashOfConfig":"19"},{"size":687,"mtime":1606823272638,"results":"24","hashOfConfig":"19"},{"size":380,"mtime":1606464606893,"results":"25","hashOfConfig":"19"},{"size":2033,"mtime":1606831783456,"results":"26","hashOfConfig":"19"},{"size":1147,"mtime":1606464991238,"results":"27","hashOfConfig":"19"},{"size":304,"mtime":1606716941302,"results":"28","hashOfConfig":"19"},{"size":366,"mtime":1606388362738,"results":"29","hashOfConfig":"19"},{"size":626,"mtime":1606806981401,"results":"30","hashOfConfig":"19"},{"size":1184,"mtime":1606807273706,"results":"31","hashOfConfig":"19"},{"size":2545,"mtime":1606807824013,"results":"32","hashOfConfig":"19"},{"size":2131,"mtime":1606885884294,"results":"33","hashOfConfig":"19"},{"size":3354,"mtime":1606820671536,"results":"34","hashOfConfig":"19"},{"size":395,"mtime":1606807866266,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"6aac3l",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"40"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"C:\\Desktop\\React\\Photoapp\\frontend\\src\\App.js",["76"],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\reportWebVitals.js",[],["77","78"],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\components\\Header.js",[],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\components\\HomeScreen.js",["79","80","81","82","83"],"import { React, useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getAllImages, uploadImage } from '../actions/imageActions'\r\nimport { Container, Image, Row, Col, Form, Button } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport Loader from './Loader'\r\nimport Message from './Message'\r\nimport axios from 'axios'\r\nimport { motion } from 'framer-motion';\r\nimport { SRLWrapper } from \"simple-react-lightbox\";\r\nconst HomeScreen = ({ history }) => {\r\n\tconst [filename, setFilename] = useState('Select an image to upload...')\r\n\tconst [msg, setMsg] = useState('')\r\n\tconst [file1, setFile] = useState(null)\r\n\tconst [upload, setUpload] = useState('')\r\n\tconst dispatch = useDispatch()\r\n\tconst imageList = useSelector((state) => state.imageList)\r\n\tconst { loading, images, error } = imageList\r\n\tconst userLogin = useSelector((state) => state.userLogin)\r\n\tconst { userInfo } = userLogin\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\tconsole.log('====================================');\r\n\t\t\tconsole.log(userInfo);\r\n\t\t\tconsole.log('====================================');\r\n\t\t\tdispatch(getAllImages(userInfo._id))\r\n\t\t}\r\n\t}, [dispatch, history, upload])\r\n\tconst submitHandler = async (e) => {\r\n\t\te.preventDefault()\r\n\t\tconst file = file1\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('image', file)\r\n\t\tformData.append('userid', userInfo._id)\r\n\r\n\t\ttry {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'content-type': 'multipart/form-data',\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t\t// console.log(await axios.post('/api/upload', formData, config));\r\n\t\t\tawait axios.post('/api/upload', formData, config)\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconsole.log(response.data);\r\n\t\t\t\t\tsetUpload(response.data)\r\n\t\t\t\t\t// setUpload(response.data)\r\n\t\t\t\t\tsetMsg('')\r\n\t\t\t\t\tsetFilename('Select an image to upload...')\r\n\t\t\t\t\tsetFile(null)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tif (error && error.response && error.response.data[\"Error\"] !== undefined) {\r\n\t\t\t\t\t\tsetMsg(error.response.data[\"Error\"])\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetMsg('Images only!')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error)\r\n\t\t}\r\n\t}\r\n\tconst handleFile = async (e) => {\r\n\t\tif (e.target.files[0]) {\r\n\t\t\tsetFilename(e.target.files[0].name)\r\n\t\t\tsetFile(e.target.files[0])\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{!userInfo && <div className=\"d-flex justify-content-center align-items-center\">Please &nbsp;<Link to='/login'>sign in</Link>&nbsp;to see your stuff!</div>}\r\n\t\t\t{ userInfo && <Row>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<Form encType=\"multipart/form-data\" onSubmit={submitHandler}>\r\n\t\t\t\t\t\t<div className='d-flex flex-column align-items-center'>\r\n\t\t\t\t\t\t\t<div className='d-flex w-100'>\r\n\t\t\t\t\t\t\t\t<div className='input-group'>\r\n\t\t\t\t\t\t\t\t\t<Form.File\r\n\t\t\t\t\t\t\t\t\t\tid='custom-file'\r\n\t\t\t\t\t\t\t\t\t\tlabel={filename}\r\n\t\t\t\t\t\t\t\t\t\tcustom\r\n\t\t\t\t\t\t\t\t\t\tclassName='w-80'\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleFile}\r\n\t\t\t\t\t\t\t\t\t\tclassName='w-50'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Button variant='outline' className='btn-outline-primary w-20' type='submit'><i className=\"fa fa-upload\" aria-label='upload' alt='upload'></i></Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='mt-3'>\r\n\t\t\t\t\t\t\t\t{msg !== '' ? <Message variant='danger'>{msg}</Message> : ''}\r\n\t\t\t\t\t\t\t\t{/* <Button>Error</Button> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>}\r\n\t\t\t{ userInfo && <Row className='py-3 px-4'>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t\t) : images.length === 0 ? <Message variant='danger'>No Images found</Message> : (\r\n\t\t\t\t\timages.map((image) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\tkey={image.imageURL}\r\n\t\t\t\t\t\t\t\tsm={12}\r\n\t\t\t\t\t\t\t\tmd={6}\r\n\t\t\t\t\t\t\t\tlg={4}\r\n\t\t\t\t\t\t\t\txl={3}\r\n\t\t\t\t\t\t\t\tclassName='py-2'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<SRLWrapper>\r\n\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\tsrc={image.imageURL}\r\n\t\t\t\t\t\t\t\t\t\tthumbnail\r\n\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\tclassName='img-fluid'\r\n\t\t\t\t\t\t\t\t\t// style={{ height: '250px', width: '250px' }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</SRLWrapper>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t)}\r\n\t\t\t</Row>}\r\n\t\t</>\r\n\r\n\t)\r\n}\r\n\r\nexport default HomeScreen\r\n","C:\\Desktop\\React\\Photoapp\\frontend\\src\\store.js",[],["84","85"],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\index.js",[],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\constants\\imageConstants.js",[],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\actions\\imageActions.js",["86"],"import { BlobServiceClient } from '@azure/storage-blob'\r\n\r\nimport axios from 'axios'\r\nimport {\r\n\tUSER_IMAGES_REQUEST,\r\n\tUSER_IMAGES_SUCCESS,\r\n\tUSER_IMAGES_FAIL,\r\n\tUSER_IMAGES_UPLOAD_FAIL,\r\n\tUSER_IMAGES_UPLOAD_REQUEST,\r\n\tUSER_IMAGES_UPLOAD_SUCCESS,\r\n} from '../constants/imageConstants'\r\n// import { InteractiveBrowserCredential } from '@azure/identity'\r\n// we're using these objects from the storage sdk - there are others for different needs\r\n// import { BlobServiceClient, BlobItem } from '@azure/storage-blob'\r\n\r\nconst getAllImages = (id) => async (dispatch, getState) => {\r\n\t// let blobsWeFound = []\r\n\t// let containerUrl = ''\r\n\ttry {\r\n\t\tdispatch({ type: USER_IMAGES_REQUEST })\r\n\t\t//console.log(await axios.get('/api/getimages'))\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\t\tconst { data } = await axios.get('/api/getimages', {\r\n\t\t\tparams: {\r\n\t\t\t\tuserid: userInfo._id,\r\n\t\t\t\tisAdmin: userInfo.isAdmin\r\n\t\t\t}\r\n\t\t})\r\n\t\tconst images = data.images\r\n\t\timages.sort(\r\n\t\t\t(a, b) => new Date(a.created).getTime() - new Date(b.created).getTime()\r\n\t\t)\r\n\t\timages.reverse()\r\n\t\t// console.log(data.blobImages)\r\n\t\tdispatch({\r\n\t\t\ttype: USER_IMAGES_SUCCESS,\r\n\t\t\tpayload: images,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_IMAGES_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\nconst uploadImage = (formdata) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t},\r\n\t\t}\r\n\t\tdispatch({ type: USER_IMAGES_UPLOAD_REQUEST })\r\n\t\tconsole.log(formdata);\r\n\t\tawait axios.post('/api/putimage', formdata, config)\r\n\t\tdispatch({\r\n\t\t\ttype: USER_IMAGES_UPLOAD_SUCCESS,\r\n\t\t\tpayload: [{ imagesrc: 'https://picsum.photos/200' }],\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_IMAGES_UPLOAD_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport { uploadImage, getAllImages }\r\n","C:\\Desktop\\React\\Photoapp\\frontend\\src\\reducers\\imageReducer.js",[],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\components\\Message.js",["87"],"import React, { Children } from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\n\r\nconst Message = ({ variant, children }) => {\r\n\treturn (\r\n\t\t<Alert variant={variant} style={{ width: '100%' }}>\r\n\t\t\t{children}\r\n\t\t</Alert>\r\n\t)\r\n}\r\n\r\nMessage.defaultProps = {\r\n\tvariant: 'info',\r\n}\r\nexport default Message\r\n","C:\\Desktop\\React\\Photoapp\\frontend\\src\\components\\Loader.js",[],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\constants\\userConstants.js",[],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\reducers\\userReducers.js",["88","89","90","91"],"import { USER_LOGOUT, USER_DETAILS_RESET, USER_DETAILS_REQUEST, USER_DETAILS_SUCCESS, USER_DETAILS_FAIL, USER_LOGIN_FAIL, USER_LOGIN_SUCCESS, USER_LOGIN_REQUEST, USER_REGISTER_FAIL, USER_REGISTER_SUCCESS, USER_REGISTER_REQUEST } from '../constants/userConstants'\r\nexport const userLoginReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case USER_LOGIN_REQUEST:\r\n            return { loading: true }\r\n        case USER_LOGIN_SUCCESS:\r\n            return { loading: false, userInfo: action.payload }\r\n        case USER_LOGIN_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        case USER_LOGOUT:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case USER_REGISTER_REQUEST:\r\n            return { loading: true }\r\n        case USER_REGISTER_SUCCESS:\r\n            return { loading: false, userInfo: action.payload }\r\n        case USER_REGISTER_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        case USER_LOGOUT:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}","C:\\Desktop\\React\\Photoapp\\frontend\\src\\screens\\LoginScreen.js",[],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\actions\\userActions.js",[],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\screens\\RegisterScreen.js",[],"C:\\Desktop\\React\\Photoapp\\frontend\\src\\components\\FormContainer.js",[],{"ruleId":"92","severity":1,"message":"93","line":1,"column":8,"nodeType":"94","messageId":"95","endLine":1,"endColumn":12},{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","replacedBy":"99"},{"ruleId":"92","severity":1,"message":"100","line":3,"column":24,"nodeType":"94","messageId":"95","endLine":3,"endColumn":35},{"ruleId":"92","severity":1,"message":"101","line":4,"column":10,"nodeType":"94","messageId":"95","endLine":4,"endColumn":19},{"ruleId":"92","severity":1,"message":"102","line":9,"column":10,"nodeType":"94","messageId":"95","endLine":9,"endColumn":16},{"ruleId":"103","severity":1,"message":"104","line":28,"column":5,"nodeType":"105","endLine":28,"endColumn":32,"suggestions":"106"},{"ruleId":"107","severity":1,"message":"108","line":85,"column":11,"nodeType":"109","endLine":85,"endColumn":27},{"ruleId":"96","replacedBy":"110"},{"ruleId":"98","replacedBy":"111"},{"ruleId":"92","severity":1,"message":"112","line":1,"column":10,"nodeType":"94","messageId":"95","endLine":1,"endColumn":27},{"ruleId":"92","severity":1,"message":"113","line":1,"column":17,"nodeType":"94","messageId":"95","endLine":1,"endColumn":25},{"ruleId":"92","severity":1,"message":"114","line":1,"column":23,"nodeType":"94","messageId":"95","endLine":1,"endColumn":41},{"ruleId":"92","severity":1,"message":"115","line":1,"column":43,"nodeType":"94","messageId":"95","endLine":1,"endColumn":63},{"ruleId":"92","severity":1,"message":"116","line":1,"column":65,"nodeType":"94","messageId":"95","endLine":1,"endColumn":85},{"ruleId":"92","severity":1,"message":"117","line":1,"column":87,"nodeType":"94","messageId":"95","endLine":1,"endColumn":104},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","no-native-reassign",["118"],"no-negated-in-lhs",["119"],"'uploadImage' is defined but never used.","'Container' is defined but never used.","'motion' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'userInfo'. Either include it or remove the dependency array.","ArrayExpression",["120"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute",["118"],["119"],"'BlobServiceClient' is defined but never used.","'Children' is defined but never used.","'USER_DETAILS_RESET' is defined but never used.","'USER_DETAILS_REQUEST' is defined but never used.","'USER_DETAILS_SUCCESS' is defined but never used.","'USER_DETAILS_FAIL' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"121","fix":"122"},"Update the dependencies array to be: [dispatch, history, upload, userInfo]",{"range":"123","text":"124"},[1178,1205],"[dispatch, history, upload, userInfo]"]